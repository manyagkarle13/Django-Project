{% extends 'base.html' %}

{% block content %}
<div style="max-width:1200px; margin:30px auto; background:#fff; padding:40px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,.12);">
  <h1 style="margin-bottom:30px; color:#333; font-size:28px;">Edit Semester Schema — {{ branch.name }}</h1>
  
  <div style="margin-bottom:20px; padding:15px; background:#f8f9fa; border-radius:6px;">
    <p style="margin:0;"><strong>Admission Year:</strong> {{ year }}</p>
    <p style="margin:8px 0 0;"><strong>Semester:</strong> {{ semester }}</p>
  </div>

  {% if subjects %}
    <div style="margin-bottom:30px;">
      <h2 style="font-size:20px; margin-bottom:15px;">Subjects for Semester {{ semester }}</h2>
      <table style="width:100%; border-collapse:collapse; font-size:14px;">
        <thead>
          <tr style="background:#f8f9fa; border-bottom:2px solid #dee2e6;">
            <th style="padding:12px; text-align:left; font-weight:600;">Code</th>
            <th style="padding:12px; text-align:left; font-weight:600;">Title</th>
            <th style="padding:12px; text-align:center; font-weight:600;">Credits</th>
          </tr>
        </thead>
        <tbody>
          {% for subject in subjects %}
            <tr style="border-bottom:1px solid #e9ecef;">
              <td style="padding:10px;">{{ subject.code|default:subject.course_code|default:"—" }}</td>
              <td style="padding:10px;">{{ subject.title|default:subject.course_title|default:"—" }}</td>
              <td style="padding:10px; text-align:center;">{{ subject.credits|default:"—" }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <div style="padding:20px; background:#fff3cd; border-radius:6px; margin-bottom:20px;">
      <p style="margin:0; color:#856404;">No subjects found for Semester {{ semester }}. Subjects may need to be added first.</p>
    </div>
  {% endif %}

  <div style="margin-top:30px; display:flex; gap:12px;">
    <a href="{% url 'hod:create_scheme' branch.pk year semester %}" class="btn" style="padding:10px 20px; background:#1976d2; color:#fff; border:none; border-radius:4px; cursor:pointer; font-weight:600; text-decoration:none; display:inline-block;">
      Create/Edit Scheme
    </a>
    <a href="{% url 'hod:dashboard_self' branch.pk %}?year={{ year }}&semester={{ semester }}" class="btn" style="padding:10px 20px; background:#6c757d; color:#fff; border:none; border-radius:4px; cursor:pointer; font-weight:600; text-decoration:none; display:inline-block;">
      Back to Dashboard
    </a>
  </div>
</div>
{% endblock %}

