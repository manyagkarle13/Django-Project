{% extends "base.html" %}

{% block content %}
<div style="max-width:1000px; margin:30px auto; background:#fff; padding:30px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,.1)">
  <h1>Activity History</h1>
  
  <table style="width:100%; border-collapse:collapse; margin-top:20px;">
    <thead>
      <tr style="background:#f5f5f5; border-bottom:2px solid #ddd;">
        <th style="padding:12px; text-align:left; font-weight:600;">Date & Time</th>
        <th style="padding:12px; text-align:left; font-weight:600;">Action</th>
        <th style="padding:12px; text-align:left; font-weight:600;">Year/Semester</th>
        <th style="padding:12px; text-align:left; font-weight:600;">Description</th>
        <th style="padding:12px; text-align:center; font-weight:600;">Download</th>
      </tr>
    </thead>
    <tbody>
      {% for activity in activities %}
        <tr style="border-bottom:1px solid #eee;">
          <td style="padding:12px;">{{ activity.created_at|date:"M d, Y H:i" }}</td>
          <td style="padding:12px;">
            <span style="background:#e3f2fd; color:#1976d2; padding:4px 8px; border-radius:4px; font-size:12px; font-weight:600;">
              {{ activity.get_action_display }}
            </span>
          </td>
          <td style="padding:12px;">
            {% if activity.scheme_year %}
              Year {{ activity.scheme_year }} - Sem {{ activity.scheme_semester }}
            {% else %}
              -
            {% endif %}
          </td>
          <td style="padding:12px;">{{ activity.description }}</td>
          <td style="padding:12px; text-align:center;">
            {% if activity.pdf_file %}
              <a href="{% url 'hod:download_scheme_pdf' activity.id %}" class="link" style="color:#1976d2; text-decoration:none; font-weight:600;">
                ðŸ“¥ Download
              </a>
            {% else %}
              -
            {% endif %}
          </td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="5" style="padding:20px; text-align:center; color:#999;">No activities recorded.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}